# -*- mode: org; -*-
#+title: CMake Generics

Use the following snippet to your ~CMakeLists.txt~ file to use the
generics in this project:

#+begin_src cmake
  list(APPEND CMAKE_MODULE_PATH ${CMAKE_BINARY_DIR})
  if(NOT EXISTS ${CMAKE_BINARY_DIR}/Generics.cmake)
    message(STATUS "Downloading CMake Generics 0.3.2")
    file(
      DOWNLOAD "https://github.com/wouterbeek/cmake-generics/raw/0.3.2/Generics.cmake"
      ${CMAKE_BINARY_DIR}/Generics.cmake
      EXPECTED_HASH SHA256=a21b4e7aa75bb4717e1f18a526c2f2a49fd18a1defcdea1ce015d5681b4983a1
      INACTIVITY_TIMEOUT 1
      SHOW_PROGRESS
      STATUS status-object
      TLS_VERIFY ON)
    list(GET status-object 0 status-code)
    if(NOT status-code EQUAL 0)
      list(GET status-object 1 status-message)
      file(REMOVE ${CMAKE_BINARY_DIR}/Generics.cmake)
      message(FATAL_ERROR "Could not download Generics.cmake: " ${status-message})
    endif()
  endif()
  include(Generics)
#+end_src
