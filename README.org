# -*- mode: org; -*-
#+title: CMake Generics

Use the following snippet to your ~CMakeLists.txt~ file to use the
generics in this project:

#+begin_src cmake
  list(APPEND CMAKE_MODULE_PATH ${CMAKE_BINARY_DIR})
  if(NOT EXISTS ${CMAKE_BINARY_DIR}/Generics.cmake)
    message(STATUS "Downloading CMake Generics 0.3.1")
    file(
      DOWNLOAD "https://github.com/wouterbeek/cmake-generics/raw/0.3.1/Generics.cmake"
      ${CMAKE_BINARY_DIR}/Generics.cmake
      EXPECTED_HASH SHA256=e8f3a4d2b242b1a0129fd9d50f50bedca6014ad94a494353bab6817c34155f27
      INACTIVITY_TIMEOUT 1
      SHOW_PROGRESS
      STATUS status-object
      TLS_VERIFY ON)
    list(GET status-object 0 status-code)
    if(NOT status-code EQUAL 0)
      list(GET status-object 1 status-message)
      file(REMOVE ${CMAKE_BINARY_DIR}/Generics.cmake)
      message(FATAL_ERROR "Could not download Generics.cmake: " ${status-message})
    endif()
  endif()
  include(Generics)
#+end_src
